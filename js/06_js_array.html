<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS의 배열</title>
</head>
<body>
    <h1>다양한 데이터의 집한체 인 배열</h1>
    <script>
        // 배열 - 인덱스(index)와 배열요소(element)로 이루어진 데이터의 집합체
        // index(인덱스) : 배열에서 사용되는 참조되는 정렬값
        //                 항상 0부터 시작한다.
        //                 음수가 올 수 없다.
        //                 최대index값은 length보다 1이 적다. 
        // element(배열요소) : 다양한 타입의 데이터가 취급된다.
        // 배열의길이(length) : 배열 갯수의 카운트(count)

        // 배열의 생성
        let arr1 = [1,2,3]; // ***배열을 표기하는 []를 이용하여 배열 생성***
        let arr2 = Array("1",2,true); //Array객체를 이용하여 배열 생성
        let arr3 = new Array("5",true,6) //new연산자를 이용하여 Array객체 생성

        // 배열에 접근(참조)
        // 배열변수[인덱스값] = 해당 배열 변수에 인덱스 값에 해당하는 값을 가져온다.
        console.log(arr1[0]);
        // 배열의 특정 값을 수정
        arr1[1] = true;
        console.log(arr1);

        // 배열에 새로운 값 추가
        arr1.push("다이어트"); //push()함수를 이용한 새로운 값 추가
        console.log(arr1);
        arr1[10] = "10번째 데이터"; // 임의의 인덱스를 지정하여 값 추가
        console.log(arr1);
        arr1[arr1.length] = false; // 배열변수의 length를 이용하여 값 추가
        console.log(arr1);

        // i는 0부터 시작하여, arr1 배열변수의 길이보다 작을동안 1씩 증가하면서 실행
        // 0~11까지 실행
        for(let i=0;i<arr1.length;i++){
            console.log(`배열의 ${i}번째 값을 출력 : ${arr1[i]}`);
        }

        // 배열 생성 - 좋아하는 과일을 배열변수로 표현해봅시다.
        // 과일은 5개 입력
        // 변수명은 fruits로 통일

        console.log("------배열조작연습------");
        let fruits = ["딸기","바나나","오렌지","메론","사과"];
        // 배열의 끝에있는 데이터 삭제
        fruits.pop(); //배열의 마지막 요소 삭제
        console.log(fruits);
        // 배열변수 fruits에 과일을 하나 추가 해봅시다.
        fruits.push("수박");
        console.log(fruits);
        // 과일중에 인덱스 1번째 과일을 다른 과일로 수정해봅시다.
        fruits[1] = "레몬"; 
        console.log(fruits);

        // 배열안에서 특정 요소가 포함되었는지 여부
        console.log(fruits.includes("오렌지")); 
        // includes함수를 통해 배열의 값이 있다면 true 없다면 false를 반환 해줍니다.

        let loginUser = "홍길동"; //현재 로그인 한 사람
        let members = [ // 우리 사이트의 회원목록
            {name : "홍길동", role:"일반회원"},
            {name : "이순신", role:"관리자"},
            {name : "임꺽정", role:"일반회원"}
        ];

        for(let i=0; i<members.length;i++)
        {
            if(loginUser == members[i].name){// 로그인한 사람이 우리 회원인지 부터 체크
                console.log("우리 회원입니다.");
                if(members[i].role == "관리자"){
                    console.log("관리자님 어서오세요.");
                }

                else{
                    console.log("회원님 환영합니다.");
                }
            }
        }

        //배열의 요소의 위치를 확인해주는 indexof()함수
        let sports = ["축구","야구","농구"];
        console.log(sports.indexOf("농구"));
        if(sports.indexOf("야구") > -1) //배열의 요소중에서 특정요소가 있는지 체크 할수있다.
        {   //예전에 ie를 지원해야할때 includes함수가 작동이 안돼서 많이 사용되기도 했다.
            console.log("sports배열에 해당 운동이 존재 합니다.");
        }

        //배열 복사
        let food = ["라면","삼겹살","떡볶이","탕수육"];
        
        let dinnerMenu = [];
        //반복문을 이용한 배열복사
        for(i=0;i<food.length;i++)
        {
            // dinnerMenu[i] = food[i];
            dinnerMenu.push(food[i]);
        }

        console.log(dinnerMenu);

        let menu1 = [];
        // 배열복사를 이용하여 food변수의 음식중 떡볶이만 삭제 해봅시다.
        for(let i=0;i<food.length;i++)
        {
            if(food[i] == "떡볶이") //food변수에서 i번째가 떡볶이라면 
            {
                continue; //해당 실행문은 스킵한다.
            }

            else{
                menu1.push(food[i]); //menu1배열변수의 마지막 인덱스 값에 food[i]를 추가한다.
            }
        }
        console.log(menu1);

        // 해당 배열변수의 요소를 순회하면 조건에 맞는 요소들의 배열을 생성 - filter()함수
        let nums = [1,2,3,4,5];
        let result = nums.filter( num => { //nums배열변수를 num이라는 변수로 순회한다.
            console.log("nums를 순회",num); //num변수에는 nums에 있는 각 요소들이 저장되있다.
            return num % 2 == 0; // num을 2로 나누었을때 나머지가 0인 요소만 반환(return)해준다
        });

        console.log(nums);
        console.log(result);

        // filter함수를 이용하여 food배열변수 중에 떡볶이만 삭제하여 새로운 배열을 생성 해봅시다.
        let menu2 = food.filter( menu => 
            {return menu !== "떡볶이";} //배열 요소중에서 떡볶이가 아닌 요소들로 새로운 배열 생성
        )
        console.log(menu2);

        // 배열을 활용하여 성적데이터를 생성
        // 변수명은 eng 
        // 배열변수 eng에 들어갈 데이터는 다음과 같다.
        // 90, 87, 65, 49, -> 타입은 number
        // eng에 저장된 점수들의 합계와 평균을 출력 해봅시다.

        let eng = [90,87,65,49];
        let sum = 0;
        let ever = 0;

        for(i=0;i<eng.length;i++)
        {
            sum += eng[i];
            ever = sum / eng.length;
        }
        console.log(`합계 : ${sum}, 평균 : ${ever}`);
        console.log("평균 :",sum/eng.length);

        // 문자열도 배열과 같이 index값을 가지고 있다.
        // 한글자 한글자가 하나의 index값을 가지고 있다.
        // "",'' 안에서 공백도 문자열에 포함이 된다.
        let str = " ";
        console.log(str.length);
        
    </script>
</body>
</html>